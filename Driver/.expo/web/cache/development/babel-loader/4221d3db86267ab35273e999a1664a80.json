{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\University\\\\FYP\\\\BusX\\\\Student\\\\Screens\\\\FeedbackNav.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Form } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { NavigationContainer, DrawerActions, NavigationActions } from '@react-navigation/native';\nimport { StudentContext } from \"../ContextApi\";\nimport variable from \"../localhost\";\nimport base64 from 'react-native-base64';\nvar Stack = createStackNavigator();\nexport function FeedbackNav(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var student = useContext(StudentContext);\n\n  var _useState = useState(student),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var base64Image = base64.decode(student.photo);\n  return React.createElement(Stack.Navigator, {\n    screenOptions: {\n      headerTitleAlign: \"center\",\n      headerLeft: function headerLeft() {\n        return React.createElement(TouchableOpacity, {\n          style: {\n            borderWidth: 1,\n            borderColor: \"#696E74\",\n            marginLeft: 10,\n            borderRadius: 30,\n            elevation: 6,\n            marginTop: -5\n          },\n          onPress: function onPress() {\n            return navigation.openDrawer();\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: {\n            width: 100,\n            height: 50\n          },\n          source: {\n            uri: \"data:\" + student.photoType + \";charset=utf8;base64,\" + base64Image\n          },\n          style: {\n            height: 50,\n            width: 50,\n            borderWidth: 1,\n            borderRadius: 30\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }\n        }));\n      }\n    },\n    initialRouteName: \"Feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, React.createElement(Stack.Screen, {\n    options: {\n      headerStyle: {\n        backgroundColor: '#FfC329',\n        elevation: 0\n      }\n    },\n    name: \"Feedback\",\n    component: FeedbackScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }));\n}\n\nfunction FeedbackScreen(_ref2) {\n  var navigation = _ref2.navigation,\n      route = _ref2.route;\n  var Sdata = useContext(StudentContext);\n\n  var _useState3 = useState(Sdata),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      subject = _useState6[0],\n      setSubject = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      desc = _useState8[0],\n      setDesc = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      modalVisible = _useState10[0],\n      setModalVisible = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalText = _useState12[0],\n      setModalText = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      loading = _useState14[0],\n      setLoading = _useState14[1];\n\n  var handleSubmit = function handleSubmit() {\n    setLoading(true);\n    console.log(subject, desc);\n    fetch(\"http://\" + variable.localhost + \":5000/student/feedback\", {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        description: desc,\n        id: Sdata._id\n      })\n    }).then(function (response) {\n      return response.json();\n    }).catch(function (error) {\n      return console.error(\"Error: \", error);\n    }).then(function (response) {\n      if (response.message) {\n        setLoading(false);\n        setModalVisible(true);\n        setModalText(response.message);\n      }\n\n      if (response.Success) {\n        setLoading(false);\n        setModalVisible(true);\n        setModalText(response.Success);\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.modalText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, modalText), React.createElement(TouchableOpacity, {\n    style: styles.SButton,\n    onPress: function onPress() {\n      setModalVisible(false);\n      setDesc(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.ButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"OK\"))))), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 8\n    }\n  }, React.createElement(View, {\n    style: [styles.inputFields, {\n      height: 200\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: [styles.TextInput, {\n      textAlignVertical: 'top',\n      marginTop: 10\n    }],\n    secureTextEntry: true,\n    placeholder: \"Description\",\n    placeholderTextColor: \"#293038\",\n    value: desc,\n    multiline: true,\n    numberOfLines: 5,\n    onChangeText: function onChangeText(text) {\n      setDesc(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 10\n    }\n  }))), React.createElement(TouchableOpacity, {\n    type: \"submit\",\n    style: styles.SButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, loading ? React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 16\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#FfC329\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 22\n    }\n  })) : React.createElement(Text, {\n    style: styles.ButtonText,\n    onPress: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 80\n    }\n  }, \"Send Feedback\")));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    paddingTop: \"20%\"\n  },\n  text: {\n    textAlign: 'center',\n    color: \"black\",\n    fontSize: 30\n  },\n  form: {\n    marginTop: \"1%\",\n    justifyContent: \"center\",\n    backgroundColor: \"#FfC329\",\n    borderRadius: 10,\n    elevation: 20,\n    opacity: 0.9\n  },\n  Heading: {\n    textAlign: 'center',\n    fontWeight: \"bold\",\n    color: \"#293038\",\n    fontSize: 24,\n    fontFamily: 'Roboto'\n  },\n  modalView: {\n    width: \"95%\",\n    alignSelf: \"center\",\n    marginTop: \"80%\",\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: \"#FfC329\",\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#FfC329\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  SButton: {\n    alignItems: \"center\",\n    marginTop: 10,\n    backgroundColor: \"#293038\",\n    width: 150,\n    height: 30,\n    borderRadius: 6,\n    paddingTop: \"1.5%\"\n  },\n  ButtonText: {\n    color: \"#FfC329\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    textTransform: \"uppercase\"\n  },\n  modalText: {\n    textAlign: 'center',\n    color: \"#293038\",\n    fontSize: 20\n  },\n  inputFields: {\n    borderColor: \"#293038\",\n    borderRadius: 10,\n    borderWidth: 1,\n    height: 40,\n    width: 300,\n    margin: 12,\n    paddingLeft: 10,\n    flexDirection: 'row',\n    justifyContent: \"center\"\n  },\n  TextInput: {\n    marginLeft: 10,\n    width: 300\n  }\n});","map":{"version":3,"sources":["D:/University/FYP/BusX/Student/Screens/FeedbackNav.js"],"names":["React","useState","useEffect","useContext","Form","MaterialIcons","MaterialCommunityIcons","createStackNavigator","NavigationContainer","DrawerActions","NavigationActions","StudentContext","variable","base64","Stack","FeedbackNav","navigation","route","student","data","setData","base64Image","decode","photo","headerTitleAlign","headerLeft","borderWidth","borderColor","marginLeft","borderRadius","elevation","marginTop","openDrawer","width","height","uri","photoType","headerStyle","backgroundColor","FeedbackScreen","Sdata","subject","setSubject","desc","setDesc","modalVisible","setModalVisible","modalText","setModalText","loading","setLoading","handleSubmit","console","log","fetch","localhost","method","headers","Accept","body","JSON","stringify","description","id","_id","then","response","json","catch","error","message","Success","styles","container","modalView","SButton","ButtonText","form","inputFields","TextInput","textAlignVertical","text","StyleSheet","create","flex","alignItems","paddingTop","textAlign","color","fontSize","justifyContent","opacity","Heading","fontWeight","fontFamily","alignSelf","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","textTransform","margin","paddingLeft","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect ,useContext} from \"react\";\r\nimport { StyleSheet, Text, View,Button,FlatList ,ActivityIndicator,Form,TextInput,TouchableOpacity,Image,Modal} from 'react-native';\r\nimport { MaterialIcons,MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { NavigationContainer,DrawerActions,NavigationActions } from '@react-navigation/native';\r\nimport{StudentContext} from \"../ContextApi\";\r\nimport variable from \"../localhost\";\r\nimport base64 from 'react-native-base64';\r\n\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nexport function FeedbackNav({ navigation,route }) {\r\n  const student=useContext(StudentContext);\r\n  const[data,setData]=useState(student);\r\n  const base64Image = base64.decode((student.photo));\r\n  \r\n  \r\n      return (\r\n        <Stack.Navigator  \r\n        screenOptions={{ \r\n          headerTitleAlign:\"center\",\r\n          headerLeft:()=>( \r\n            <TouchableOpacity style={{borderWidth:1,borderColor:\"#696E74\",marginLeft:10,borderRadius:30,elevation:6,marginTop:-5}}onPress={() => navigation.openDrawer()}  >\r\n            <Image style={{width: 100, height: 50}} source={{uri:`data:${student.photoType};charset=utf8;base64,${base64Image}`}} \r\n            style={{height:50,width:50,borderWidth:1,borderRadius:30}}/>\r\n          \r\n        </TouchableOpacity>)\r\n         }}\r\n        initialRouteName=\"Feedback\">\r\n          <Stack.Screen  options={{   \r\n        headerStyle: {\r\n          backgroundColor: '#FfC329',elevation:0\r\n        }\r\n        }} name=\"Feedback\" component={FeedbackScreen} />\r\n        </Stack.Navigator>\r\n      );\r\n      \r\n    }\r\n\r\n\r\nfunction FeedbackScreen({ navigation,route }) {\r\nconst Sdata=useContext(StudentContext);\r\nconst[data,setData]=useState(Sdata);\r\nconst [subject,setSubject]=useState(\"\");\r\nconst [desc,setDesc]=useState(\"\");\r\nconst [modalVisible, setModalVisible] = useState(false);\r\nconst [modalText, setModalText] = useState();\r\nconst[loading,setLoading]=useState(false);\r\nconst handleSubmit=()=>{\r\n  setLoading(true);\r\n  console.log(subject,desc);\r\n  fetch(`http://${variable.localhost}:5000/student/feedback`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({description:desc,id:Sdata._id})\r\n  })\r\n  .then(response => response.json())  \r\n  .catch(error=> console.error(\"Error: \",error))\r\n  .then(response=>{\r\n      if(response.message){\r\n        setLoading(false);\r\n        setModalVisible(true);\r\n        setModalText(response.message)\r\n      }\r\n      if(response.Success){\r\n        setLoading(false);\r\n        setModalVisible(true);\r\n        setModalText(response.Success)\r\n      }\r\n      \r\n  })\r\n}\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n      <Modal\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        visible={modalVisible}\r\n      >\r\n        <View>\r\n          <View style={styles.modalView}>\r\n            <Text style={styles.modalText}>{modalText}</Text>\r\n            <TouchableOpacity  style={styles.SButton} onPress={()=>{\r\n            setModalVisible(false);\r\n            setDesc(\"\");}}>\r\n        <Text style={styles.ButtonText} >OK</Text>\r\n        </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n       <View style={styles.form}>\r\n        \r\n        <View style={[styles.inputFields,{height:200}]}>         \r\n         <TextInput\r\n          style={[styles.TextInput,{textAlignVertical: 'top',marginTop:10}]}\r\n          secureTextEntry\r\n          placeholder=\"Description\"\r\n          placeholderTextColor=\"#293038\" \r\n          value={desc}\r\n          multiline={true}\r\n          numberOfLines={5}\r\n          onChangeText={(text)=>{setDesc(text)\r\n          }}\r\n        />\r\n        </View>\r\n        </View>\r\n        \r\n      <TouchableOpacity type=\"submit\" style={styles.SButton}>\r\n      {loading?<View><ActivityIndicator  size=\"small\" color=\"#FfC329\"/></View>:<Text style={styles.ButtonText} onPress={handleSubmit}>Send Feedback</Text>}\r\n      \r\n      </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      alignItems: \"center\",\r\n      paddingTop:\"20%\"\r\n    }, \r\n    text:{\r\n      textAlign: 'center',\r\n      color:\"black\",\r\n      fontSize:30\r\n    },\r\n    form:{\r\n      marginTop:\"1%\",\r\n      justifyContent:\"center\",\r\n      backgroundColor: \"#FfC329\",\r\n    borderRadius:10,\r\n    elevation: 20,\r\n    opacity:0.9\r\n    },\r\n    Heading:{\r\n      textAlign: 'center',\r\n      fontWeight:\"bold\",\r\n      color:\"#293038\",\r\n      fontSize:24,\r\n      fontFamily: 'Roboto'\r\n     },\r\n     modalView: {\r\n      width:\"95%\",\r\n      alignSelf:\"center\",\r\n      marginTop: \"80%\",\r\n      backgroundColor: \"white\",\r\n      borderRadius: 20,\r\n      borderWidth:1,\r\n      borderColor:\"#FfC329\",\r\n      padding: 35,\r\n      alignItems: \"center\",\r\n      shadowColor: \"#FfC329\",\r\n      shadowOffset: {\r\n        width: 0,\r\n        height: 2\r\n      },\r\n      shadowOpacity: 0.25,\r\n      shadowRadius: 4,\r\n      elevation: 5\r\n    },\r\n    SButton:{\r\n      alignItems: \"center\",\r\n      marginTop:10,\r\n      backgroundColor:\"#293038\",\r\n      width:150,\r\n      height:30,\r\n      borderRadius:6,\r\n      paddingTop:\"1.5%\",\r\n    \r\n    },\r\n    ButtonText:{\r\n      color: \"#FfC329\",\r\n      fontWeight: \"bold\",\r\n      alignSelf: \"center\",\r\n      textTransform: \"uppercase\"\r\n    },\r\n    modalText:{\r\n      textAlign: 'center',\r\n    color:\"#293038\",\r\n    fontSize:20\r\n    },\r\n    inputFields:{\r\n      borderColor:\"#293038\",\r\n      borderRadius:10,\r\n      borderWidth:1,\r\n      height: 40,\r\n      width:300,\r\n      margin: 12,\r\n      paddingLeft:10,\r\n      flexDirection: 'row',\r\n      justifyContent:\"center\",\r\n      \r\n    },\r\n    TextInput:{\r\n      marginLeft:10,\r\n      width:300,\r\n      \r\n    },\r\n    \r\n  });"]},"metadata":{},"sourceType":"module"}