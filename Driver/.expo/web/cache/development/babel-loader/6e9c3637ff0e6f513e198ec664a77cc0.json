{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\University\\\\FYP\\\\BusX\\\\Student\\\\Screens\\\\changePassword.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Form } from \"react-native-web/dist/index\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport variable from \"../localhost\";\nimport { StudentContext } from \"../ContextApi\";\nexport default function changePassword(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      oldPass = _useState2[0],\n      setOldPass = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      repassword = _useState6[0],\n      setrePassword = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n\n  var data = useContext(StudentContext);\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalVisible = _useState12[0],\n      setModalVisible = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      modalText = _useState14[0],\n      setModalText = _useState14[1];\n\n  var handleSubmit = function handleSubmit() {\n    setLoading(true);\n    console.log(\"ip is : \" + variable.localhost);\n    fetch(\"http://\" + variable.localhost + \":5000/student/changePass\", {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: data._id,\n        oldPass: oldPass,\n        password: password,\n        repassword: repassword\n      })\n    }).then(function (response) {\n      return response.json();\n    }).catch(function (error) {\n      return console.error(\"Error: \", error);\n    }).then(function (response) {\n      if (response.message) {\n        setLoading(false);\n        setError(response.message);\n      }\n\n      if (response.Success) {\n        setModalText(response.Success);\n        setModalVisible(true);\n        setOldPass(\"\");\n        setPassword(\"\");\n        setrePassword(\"\");\n        setLoading(false);\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.modalView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.modalText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, modalText), React.createElement(TouchableOpacity, {\n    style: styles.SButton,\n    onPress: function onPress() {\n      setModalVisible(false);\n      navigation.navigate(\"Account Setting\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.ButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"OK\"))))), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.inputFields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"key\",\n    size: 24,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    placeholder: \"Old Password\",\n    placeholderTextColor: \"#293038\",\n    value: oldPass,\n    onChangeText: function onChangeText(text) {\n      setOldPass(text);\n      setError(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.inputFields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"key\",\n    size: 24,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    secureTextEntry: true,\n    placeholder: \"New Password\",\n    placeholderTextColor: \"#293038\",\n    value: password,\n    onChangeText: function onChangeText(text) {\n      setPassword(text);\n      setError(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 10\n    }\n  })), React.createElement(View, {\n    style: styles.inputFields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"key\",\n    size: 24,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    secureTextEntry: true,\n    placeholder: \"Re Write New Password\",\n    placeholderTextColor: \"#293038\",\n    value: repassword,\n    onChangeText: function onChangeText(text) {\n      setrePassword(text);\n      setError(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })), error == null ? null : React.createElement(Text, {\n    style: styles.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 27\n    }\n  }, error), React.createElement(TouchableOpacity, {\n    type: \"submit\",\n    style: styles.SButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, loading ? React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 16\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#FfC329\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 22\n    }\n  })) : React.createElement(Text, {\n    style: styles.ButtonText,\n    onPress: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 80\n    }\n  }, \"Change Password\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n    paddingTop: \"10%\"\n  },\n  Heading: {\n    textAlign: 'center',\n    fontWeight: \"bold\",\n    color: \"#293038\",\n    fontSize: 20,\n    fontFamily: 'Roboto'\n  },\n  form: {\n    marginTop: \"20%\",\n    justifyContent: \"center\",\n    backgroundColor: \"#FfC329\",\n    paddingBottom: 20,\n    borderRadius: 10,\n    elevation: 20,\n    opacity: 0.9\n  },\n  inputFields: {\n    borderBottomColor: \"#293038\",\n    borderRadius: 10,\n    borderBottomWidth: 1,\n    height: 40,\n    width: 300,\n    margin: 12,\n    paddingLeft: 10,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  TextInput: {\n    marginLeft: 10,\n    width: 300\n  },\n  SButton: {\n    alignItems: \"center\",\n    marginTop: 30,\n    backgroundColor: \"#293038\",\n    width: 200,\n    height: 30,\n    borderRadius: 6,\n    paddingTop: \"1.5%\",\n    alignSelf: \"center\"\n  },\n  ButtonText: {\n    color: \"#FfC329\",\n    fontWeight: \"bold\",\n    alignSelf: \"center\",\n    textTransform: \"uppercase\"\n  },\n  modalView: {\n    width: \"95%\",\n    alignSelf: \"center\",\n    marginTop: \"80%\",\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: \"#FfC329\",\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#FfC329\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  image: {\n    marginTop: \"20%\",\n    width: 200,\n    height: 200,\n    shadowColor: \"yellow\",\n    shadowOffset: {\n      height: 2\n    },\n    shadowOpacity: 0.3\n  },\n  fPass: {\n    color: \"#293038\",\n    textAlign: 'right',\n    fontSize: 13,\n    fontWeight: \"bold\",\n    marginRight: 13\n  },\n  error: {\n    color: \"red\",\n    textAlign: 'left',\n    fontSize: 12,\n    fontWeight: \"bold\",\n    marginLeft: 20\n  }\n});","map":{"version":3,"sources":["D:/University/FYP/BusX/Student/Screens/changePassword.js"],"names":["React","useState","useEffect","useContext","Form","MaterialIcons","MaterialCommunityIcons","variable","StudentContext","changePassword","navigation","oldPass","setOldPass","password","setPassword","repassword","setrePassword","error","setError","loading","setLoading","data","modalVisible","setModalVisible","modalText","setModalText","handleSubmit","console","log","localhost","fetch","method","headers","Accept","body","JSON","stringify","id","_id","then","response","json","catch","message","Success","styles","container","modalView","SButton","navigate","ButtonText","form","inputFields","TextInput","text","StyleSheet","create","flex","backgroundColor","alignItems","paddingTop","Heading","textAlign","fontWeight","color","fontSize","fontFamily","marginTop","justifyContent","paddingBottom","borderRadius","elevation","opacity","borderBottomColor","borderBottomWidth","height","width","margin","paddingLeft","flexDirection","marginLeft","alignSelf","textTransform","borderWidth","borderColor","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","image","fPass","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useContext } from \"react\";\r\nimport { StyleSheet, Text, View,Button,FlatList ,ActivityIndicator,Form,TextInput,TouchableOpacity,Image,Modal} from 'react-native';\r\nimport { MaterialIcons,MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport variable from \"../localhost\";\r\nimport {StudentContext} from '../ContextApi';\r\n\r\nexport default function changePassword({ navigation }) {\r\nconst [oldPass,setOldPass]=useState(\"\");\r\nconst [password,setPassword]=useState(\"\");\r\nconst [repassword,setrePassword]=useState(\"\");\r\nconst[error,setError]=useState(null);\r\nconst[loading,setLoading]=useState(false);\r\nconst data=useContext(StudentContext);\r\nconst [modalVisible, setModalVisible] = useState(false);\r\nconst [modalText, setModalText] = useState();\r\n\r\n  const handleSubmit=()=>{\r\n    setLoading(true);\r\n    console.log(\"ip is : \"+variable.localhost)\r\n    fetch(`http://${variable.localhost}:5000/student/changePass`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({id:data._id,oldPass:oldPass,password:password,repassword:repassword})\r\n  })\r\n  .then(response => response.json())  \r\n  .catch(error=> console.error(\"Error: \",error))\r\n  .then(response=>{\r\n      if(response.message){\r\n        setLoading(false);\r\n        setError(response.message);\r\n      }\r\n      if(response.Success){\r\n        setModalText(response.Success);\r\n        setModalVisible(true);\r\n        setOldPass(\"\");\r\n        setPassword(\"\");\r\n        setrePassword(\"\");\r\n        setLoading(false);\r\n      }\r\n      \r\n  })\r\n  };\r\n    return (\r\n      <View style={styles.container}>\r\n      <Modal\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        visible={modalVisible}\r\n      >\r\n        <View>\r\n          <View style={styles.modalView}>\r\n            <Text style={styles.modalText}>{modalText}</Text>\r\n            <TouchableOpacity  style={styles.SButton} onPress={()=>{\r\n            setModalVisible(false);\r\n            navigation.navigate(\"Account Setting\")\r\n            }}>\r\n        <Text style={styles.ButtonText} >OK</Text>\r\n        </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n        <View style={styles.form}>\r\n        <View style={styles.inputFields}>\r\n        <MaterialCommunityIcons name=\"key\" size={24} color=\"black\" /> \r\n          <TextInput\r\n          style={styles.TextInput}\r\n          placeholder=\"Old Password\"\r\n          placeholderTextColor=\"#293038\" \r\n          value={oldPass}\r\n          onChangeText={(text)=>{setOldPass(text)\r\n            setError(null)}}\r\n        />\r\n        </View>\r\n        <View style={styles.inputFields}>\r\n        <MaterialCommunityIcons name=\"key\" size={24} color=\"black\" />         \r\n         <TextInput\r\n          style={styles.TextInput}\r\n          secureTextEntry\r\n          placeholder=\"New Password\"\r\n          placeholderTextColor=\"#293038\" \r\n          value={password}\r\n          onChangeText={(text)=>{setPassword(text)\r\n          setError(null)}}\r\n        />\r\n        </View>\r\n        <View style={styles.inputFields}>\r\n        <MaterialCommunityIcons name=\"key\" size={24} color=\"black\" />  \r\n        <TextInput\r\n          style={styles.TextInput}\r\n          secureTextEntry\r\n          placeholder=\"Re Write New Password\"\r\n          placeholderTextColor=\"#293038\" \r\n          value={repassword}\r\n          onChangeText={(text)=>{setrePassword(text)\r\n          setError(null)}}\r\n        />\r\n        </View>\r\n        {error==null?null:<Text style={styles.error} >{error}</Text>}\r\n      <TouchableOpacity type=\"submit\" style={styles.SButton}>\r\n      {loading?<View><ActivityIndicator  size=\"small\" color=\"#FfC329\"/></View>:<Text style={styles.ButtonText} onPress={handleSubmit}>Change Password</Text>}\r\n      </TouchableOpacity>\r\n      </View>\r\n      </View>\r\n    );\r\n  }\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: \"white\",\r\n      alignItems: \"center\",\r\n      paddingTop:\"10%\"\r\n    },  \r\n    Heading:{\r\n      textAlign: 'center',\r\n      fontWeight:\"bold\",\r\n      color:\"#293038\",\r\n      fontSize:20,\r\n      fontFamily: 'Roboto'\r\n     },\r\n    form:{\r\n      marginTop:\"20%\",\r\n      justifyContent:\"center\",\r\n      backgroundColor: \"#FfC329\",\r\n      paddingBottom:20,\r\n    borderRadius:10,\r\n    elevation: 20,\r\n    opacity:0.9\r\n    },\r\n    inputFields:{\r\n      borderBottomColor:\"#293038\",\r\n      borderRadius:10,\r\n      borderBottomWidth:1,\r\n      height: 40,\r\n      width:300,\r\n      margin: 12,\r\n      paddingLeft:10,\r\n       flexDirection: 'row',\r\n      alignItems: 'center',\r\n    },\r\n    TextInput:{\r\n      marginLeft:10,\r\n      width:300\r\n    },\r\n    SButton:{\r\n      alignItems: \"center\",\r\n      marginTop:30,\r\n      backgroundColor:\"#293038\",\r\n      width:200,\r\n      height:30,\r\n      borderRadius:6,\r\n      paddingTop:\"1.5%\",\r\n      alignSelf:\"center\"\r\n    \r\n    },\r\n    ButtonText:{\r\n        color: \"#FfC329\",\r\n        fontWeight: \"bold\",\r\n        alignSelf: \"center\",\r\n        textTransform: \"uppercase\"\r\n      },\r\n    modalView: {\r\n        width:\"95%\",\r\n        alignSelf:\"center\",\r\n        marginTop: \"80%\",\r\n        backgroundColor: \"white\",\r\n        borderRadius: 20,\r\n        borderWidth:1,\r\n        borderColor:\"#FfC329\",\r\n        padding: 35,\r\n        alignItems: \"center\",\r\n        shadowColor: \"#FfC329\",\r\n        shadowOffset: {\r\n          width: 0,\r\n          height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 4,\r\n        elevation: 5\r\n      },\r\n    image: {\r\n      marginTop:\"20%\",\r\n      width: 200,\r\n      height: 200,\r\n      shadowColor: \"yellow\",\r\n    shadowOffset: { height: 2},\r\n    shadowOpacity: 0.3,\r\n    },\r\n    fPass:{\r\n      color:\"#293038\",\r\n      textAlign:'right',\r\n      fontSize:13,\r\n      fontWeight:\"bold\",\r\n      marginRight:13    \r\n    },\r\n    error:{\r\n      color:\"red\",\r\n      textAlign:'left',\r\n      fontSize:12,\r\n      fontWeight:\"bold\",\r\n      marginLeft:20    \r\n    }\r\n    \r\n  });"]},"metadata":{},"sourceType":"module"}