{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\University\\\\FYP\\\\BusX\\\\Student\\\\Screens\\\\Attendence.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { StudentContext } from \"../ContextApi\";\nimport { Ionicons } from '@expo/vector-icons';\nimport variable from \"../localhost\";\nexport function Attendence(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var Sdata = useContext(StudentContext);\n\n  var _useState = useState(Sdata),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      attendence = _useState4[0],\n      setAttendence = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isEnabled = _useState6[0],\n      setisEnabled = _useState6[1];\n\n  useEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 9\n          }\n        }, React.createElement(Ionicons, {\n          style: {\n            marginRight: 10,\n            marginTop: 5\n          },\n          name: \"arrow-back\",\n          size: 28,\n          color: \"black\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 5\n          }\n        }));\n      }\n    });\n    fetch(\"http://\" + variable.localhost + \":5000/student/setAttendence\", {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: data._id,\n        attendence: attendence\n      })\n    }).then(function (response) {\n      return response.json();\n    }).catch(function (error) {\n      return console.error(\"ErrorHere: \", error);\n    }).then(function (response) {\n      if (response.message) {\n        console.log(\"afa\");\n      }\n\n      if (response.attendence) {\n        setAttendence(response.attendence);\n      }\n    });\n  }, [isEnabled]);\n\n  var toggleSwitch = function toggleSwitch() {\n    setAttendence(attendence === \"present\" ? \"absent\" : \"present\");\n    setisEnabled(function (previousState) {\n      return !previousState;\n    });\n  };\n\n  var view = React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: require(\"../assets/LogoTransparent.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 1\n    }\n  }), React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      color: attendence !== \"present\" ? \"#FfC329\" : \"#293038\",\n      fontSize: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 2\n    }\n  }, attendence === \"present\" ? \"ON BOARD!!!\" : \"NOT GOING :(\"), React.createElement(Switch, {\n    style: {\n      transform: [{\n        scaleX: 1.4\n      }, {\n        scaleY: 1.3\n      }],\n      alignSelf: \"center\"\n    },\n    thumbColor: attendence === \"present\" ? \"#f5dd4b\" : \"#293038\",\n    ios_backgroundColor: \"#3e3e3e\",\n    onValueChange: toggleSwitch,\n    value: isEnabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 2\n    }\n  }));\n  return React.createElement(View, {\n    style: [styles.container, {\n      backgroundColor: attendence === \"present\" ? \"#90ee90\" : attendence === \"absent\" ? \"#c55656\" : \"#FfC329\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, attendence !== undefined ? view : React.createElement(View, {\n    style: styles.ActivityIndicator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 42\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 81\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"#FfC329\"\n  },\n  image: {\n    marginTop: \"20%\",\n    width: 200,\n    height: 200,\n    shadowColor: \"yellow\",\n    shadowOffset: {\n      height: 2\n    },\n    shadowOpacity: 0.3\n  },\n  ActivityIndicator: {\n    flex: 1,\n    justifyContent: \"center\",\n    transform: [{\n      scaleX: 2.2\n    }, {\n      scaleY: 2.2\n    }]\n  }\n});","map":{"version":3,"sources":["D:/University/FYP/BusX/Student/Screens/Attendence.js"],"names":["React","useState","useEffect","useContext","StudentContext","Ionicons","variable","Attendence","navigation","route","Sdata","data","setData","attendence","setAttendence","isEnabled","setisEnabled","setOptions","headerRight","goBack","marginRight","marginTop","fetch","localhost","method","headers","Accept","body","JSON","stringify","id","_id","then","response","json","catch","error","console","message","log","toggleSwitch","previousState","view","styles","image","require","textAlign","color","fontSize","transform","scaleX","scaleY","alignSelf","container","backgroundColor","undefined","ActivityIndicator","StyleSheet","create","flex","alignItems","width","height","shadowColor","shadowOffset","shadowOpacity","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useContext,} from \"react\";\r\nimport { StyleSheet, Text,Image, View,Button,TouchableOpacity,Switch,ActivityIndicator} from 'react-native';\r\nimport{StudentContext} from \"../ContextApi\";\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport variable from \"../localhost\";\r\nexport function Attendence({ navigation,route }) {\r\nconst Sdata=useContext(StudentContext);\r\nconst[data,setData]=useState(Sdata);\r\nconst[attendence,setAttendence]=useState();\r\nconst[isEnabled,setisEnabled]=useState(true);\r\nuseEffect(()=>{\r\n    navigation.setOptions({ headerRight:()=>( \r\n        <TouchableOpacity onPress={()=>navigation.goBack()}  >        \r\n    <Ionicons style={{marginRight:10,marginTop:5}}name=\"arrow-back\" size={28} color=\"black\" />\r\n    </TouchableOpacity>) });\r\n        \r\n        fetch(`http://${variable.localhost}:5000/student/setAttendence`, {\r\n            method: 'POST',\r\n            headers: {\r\n              Accept: 'application/json',\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body:JSON.stringify({id:data._id,attendence:attendence})\r\n          })\r\n          .then(response => response.json())  \r\n          .catch(error=> console.error(\"ErrorHere: \",error))\r\n          .then(response=>{\r\n              if(response.message){\r\n                  console.log(\"afa\");\r\n              }\r\n              if(response.attendence){\r\n                  setAttendence(response.attendence);\r\n              }\r\n          });\r\n},[isEnabled]);\r\n\r\n\r\nconst toggleSwitch = () => {setAttendence(attendence===\"present\"?\"absent\":\"present\");\r\nsetisEnabled(previousState=>!previousState)\r\n};\r\nconst view=(<View>\r\n<Image style={styles.image} source={require('../assets/LogoTransparent.png')}/>\r\n <Text style={{\r\ntextAlign: 'center',\r\ncolor:attendence!==\"present\"?\"#FfC329\":\"#293038\",\r\nfontSize:30\r\n}}>{attendence===\"present\"?\"ON BOARD!!!\":\"NOT GOING :(\"}</Text>\r\n <Switch\r\n  style={{transform: [{ scaleX: 1.4 }, { scaleY: 1.3 }],alignSelf:\"center\" }}\r\n  thumbColor={attendence===\"present\" ? \"#f5dd4b\" : \"#293038\"}\r\n  ios_backgroundColor=\"#3e3e3e\"\r\n  onValueChange={toggleSwitch}\r\n  value={isEnabled}\r\n/></View>\r\n);\r\n    return (\r\n        <View style={[styles.container,{backgroundColor:attendence===\"present\" ? \"#90ee90\":attendence===\"absent\" ?\"#c55656\":\"#FfC329\"}]}>\r\n            {attendence!==undefined?view:<View style={styles.ActivityIndicator}><ActivityIndicator  size=\"large\" color=\"black\"/></View>}\r\n            </View>\r\n      \r\n    );\r\n  }\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      alignItems: \"center\",\r\n      backgroundColor:\"#FfC329\"\r\n    }, \r\n    image: {\r\n        marginTop:\"20%\",\r\n        width: 200,\r\n        height: 200,\r\n        shadowColor: \"yellow\",\r\n      shadowOffset: { height: 2},\r\n      shadowOpacity: 0.3,\r\n      },\r\n      ActivityIndicator:{\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        transform: [{ scaleX: 2.2 }, { scaleY: 2.2 }]\r\n      }\r\n    \r\n  });"]},"metadata":{},"sourceType":"module"}